<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Access Denied | AI Dashboard</title>
    <style>
        body {
            margin: 0;
            min-height: 100vh;
            display: grid;
            place-items: center;
            padding: 20px;
            font-family: "Space Grotesk", system-ui, sans-serif;
            color: #e7f1ff;
            background: linear-gradient(180deg, #050b12, #0a1621);
        }
        .card {
            width: min(560px, 100%);
            border-radius: 18px;
            padding: 22px;
            border: 1px solid rgba(255, 143, 143, 0.2);
            background: rgba(18, 26, 38, 0.9);
            box-shadow: 0 16px 50px rgba(2,8,15,.45);
        }
        h1 { margin: 0 0 10px; }
        p { color: #a8bdd5; line-height: 1.45; }
        .actions { margin-top: 14px; display: flex; gap: 10px; flex-wrap: wrap; }
        a {
            display: inline-flex;
            align-items: center;
            min-height: 42px;
            padding: 0 12px;
            border-radius: 12px;
            border: 1px solid rgba(160,188,214,.15);
            color: #e7f1ff;
            text-decoration: none;
            background: rgba(255,255,255,.03);
        }
        a.primary {
            border-color: rgba(91,180,255,.28);
            background: rgba(91,180,255,.10);
        }
        code {
            color: #dff2ff;
            background: rgba(255,255,255,.03);
            border: 1px solid rgba(160,188,214,.10);
            border-radius: 8px;
            padding: 2px 6px;
        }
        ul {
            margin: 10px 0 0;
            padding-left: 18px;
            color: #c7d7ea;
        }
    </style>
</head>
<body>
    <section class="card">
        <h1>Access Denied</h1>
        <p>Your Google account is not allowed to access this dashboard.</p>
        <p>
            Ask the server admin to add your email to <code>GOOGLE_ALLOWED_EMAILS</code>
            (or your domain to <code>GOOGLE_ALLOWED_DOMAINS</code>) and restart the server.
        </p>

        {% if not google_oauth_configured %}
        <p>Google OAuth is not configured yet. Set <code>GOOGLE_CLIENT_ID</code> and <code>GOOGLE_CLIENT_SECRET</code>.</p>
        {% endif %}

        {% if allowed_emails_count or allowed_domains %}
        <ul>
            <li>Configured allowlisted emails: {{ allowed_emails_count }}</li>
            <li>Configured allowlisted domains: {{ allowed_domains|join:", "|default:"none" }}</li>
        </ul>
        {% endif %}

        <div class="actions">
            <a class="primary" href="{% url 'account_login' %}">Try Google Login Again</a>
            <a href="/">Go to Dashboard</a>
        </div>
    </section>
</body>
</html>

